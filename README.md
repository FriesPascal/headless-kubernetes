# Kubernetes the Kubernetes way

Run a kubernetes {{ .Release.Namespace }} inside another kubernetes cluster and let certificates be generated by CertManager.
Requires CertManager to be installed on the host cluster, as well as a fast storage class (Rancher local-path in its current form).
Includes all required Certificate and Issuer Resources.

Note that this repo includes dummy hostnames and passwords, hence, is NOT PRODUCTION READY.

## Quick start

Setup proceeds in three steps:

1. Install a {{ .Release.Namespace }} in the host cluster. This will also deploy a preconfigured `kubectl` pod with admin credentials. You can `exec` into it in order to interact with the cluster.
2. Deploy additional resources to the guest cluster. This is done via a Job on the host cluster running `kubectl`.
3. Configure worker node(s). This is done via a Job on the host cluster running `ansible-playbook`. Currently the inventory and certs are configured for a single worker.
